# cPanel-Specific Configuration
# This file contains settings optimized for Namecheap cPanel hosting

# ==================================
# SERVER CONFIGURATION
# ==================================
NODE_ENV=production
# cPanel will assign the port - usually 3000-3100
PORT=3000
# Listen on all interfaces
HOST=0.0.0.0

# ==================================
# API CONFIGURATION
# ==================================
API_PREFIX=/api/v1

# ==================================
# CORS CONFIGURATION
# ==================================
# IMPORTANT: Replace with your actual domain
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com,https://api.yourdomain.com

# ==================================
# RATE LIMITING
# ==================================
# Reduced for shared hosting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50

# ==================================
# DATABASE CONFIGURATION
# ==================================
# IMPORTANT: Use the FULL database name from cPanel
# Format: cpaneluser_dbname
DB_HOST=localhost
DB_PORT=3306
DB_NAME=cpaneluser_green_permit_db
DB_USER=cpaneluser_green_permit_user
DB_PASSWORD=CHANGE_THIS_TO_YOUR_DB_PASSWORD
# Reduced connection limit for shared hosting
DB_CONNECTION_LIMIT=5
DB_CONNECT_TIMEOUT=10000
DB_ACQUIRE_TIMEOUT=10000
DB_TIMEOUT=60000

# ==================================
# JWT CONFIGURATION
# ==================================
# CRITICAL: Generate strong secrets!
# Run: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_THIS_GENERATE_RANDOM_64_CHAR_SECRET
JWT_EXPIRE=24h
JWT_REFRESH_SECRET=CHANGE_THIS_GENERATE_DIFFERENT_RANDOM_SECRET
JWT_REFRESH_EXPIRE=7d

# ==================================
# LOGGING CONFIGURATION
# ==================================
# Use 'warn' or 'error' to reduce log volume on shared hosting
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=5m
LOG_MAX_FILES=7
LOG_DATE_PATTERN=YYYY-MM-DD

# ==================================
# SECURITY CONFIGURATION
# ==================================
FORCE_HTTPS=true
TRUST_PROXY=true
SESSION_SECRET=CHANGE_THIS_GENERATE_RANDOM_SESSION_SECRET
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# ==================================
# MONITORING & HEALTH CHECK
# ==================================
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=false

# ==================================
# APPLICATION URLS
# ==================================
# Replace with your actual domain
APP_URL=https://yourdomain.com
API_URL=https://api.yourdomain.com

# ==================================
# TIMEZONE
# ==================================
TZ=Africa/Lagos

# ==================================
# REQUEST LIMITS
# ==================================
# Reduced for shared hosting
MAX_REQUEST_SIZE=5mb
MAX_FILE_SIZE=2mb
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf

# ==================================
# REDIS (Usually not available on shared hosting)
# ==================================
REDIS_ENABLED=false

# ==================================
# EMAIL SERVICE (Optional)
# ==================================
# Configure if you need email functionality
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@yourdomain.com

# ==================================
# SMS SERVICE (Optional)
# ==================================
SMS_PROVIDER=
SMS_API_KEY=
SMS_API_SECRET=
SMS_FROM_NUMBER=

# ==================================
# BACKUP CONFIGURATION
# ==================================
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30

# ==================================
# NOTES FOR CPANEL DEPLOYMENT
# ==================================
# 1. Full database name includes cPanel username prefix
# 2. Use 'localhost' for DB_HOST (not 127.0.0.1)
# 3. Keep connection limits low (5-10 max)
# 4. Disable Redis unless you have VPS with Redis installed
# 5. Use environment variables in Node.js app interface if available
# 6. Generate all secrets using crypto.randomBytes()
# 7. Set CORS_ORIGIN to your actual domain(s)
# 8. Memory limit is typically 512MB-2GB on shared hosting
# 9. No PM2 cluster mode - single process only
# 10. Application restarts may take 30-60 seconds
